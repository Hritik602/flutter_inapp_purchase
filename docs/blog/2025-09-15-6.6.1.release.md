---
slug: 6.6.1-release
title: Version 6.6.1 — purchase migration and id fixes
authors: [hyochan]
tags: [release, flutter, in-app-purchase, openiap]
---

Short maintenance release focusing on completing the Purchase migration and hardening product parsing.

Highlights

- Completed docs/examples migration from PurchasedItem to Purchase (unified type)
- Add Purchase.quantity (iOS quantity; defaults to 1 on Android)
- Add Purchase.isAutoRenewing (unified auto‑renew flag)
- Ensure Product.id always set (fallback to productId/sku/productIdentifier)
- Example: suppress alert on user‑cancelled request in purchase flow
- Analyzer cleanup across examples and types

Changelog

- Added
  - Purchase.quantity, Purchase.isAutoRenewing
- Changed
  - Docs/examples migrated from PurchasedItem → Purchase
- Fixed
  - Product.id population on iOS/Android in fetchProducts (prevents “SKU not found” from empty id)
  - Example UX: no alert dialog on user cancellation; avoid return in finally
  - Lints: withOpacity → withValues(alpha: …); remove duplicate library directive; avoid overridden field in PurchaseIOS; targeted ignores for legacy/deprecated symbols
- Deprecated
  - Continued deprecation of productId on product types (use id)
