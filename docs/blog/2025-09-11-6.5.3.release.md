---
slug: 6.5.3-release
title: Version 6.5.3 — iOS product.id fix, id-first products, and API cleanups
authors: [hyochan]
tags: [release, flutter, in-app-purchase]
---

# Version 6.5.3 Release

This release fixes a key issue on iOS where `product.id` could be empty and introduces several quality-of-life improvements to product parsing and APIs.

## Highlights

- iOS: `fetchProducts()` now guarantees a non-empty `product.id`.
- Products center on `id`: `productId` is kept for compatibility (deprecated) and will be removed in 6.6.0.
- `fetchProducts()` supports `type: 'all'` (Android merges `inapp` + `subs`; iOS passes `'all'` to native).

## Changes

### Fixed

- Ensure `product.id` is always populated on iOS (`fetchProducts()`), preventing empty-id items (#550).

### Changed

- `id` is now the primary identifier for products and subscriptions.
- Parser emits `ProductSubscription` internally for subscriptions (alias of `Subscription`).

### Deprecated

- `productId` on product types (use `id` instead) — removal in 6.6.0.
- `Subscription` type name (use `ProductSubscription`) — removal in 6.6.0.
- Methods (removal in 6.6.0):
  - `requestProducts()` → use `fetchProducts()`
  - `purchaseAsync()` → use `requestPurchase()`
  - `requestPurchaseAuto()` → use `requestPurchase()`
  - `finalize()` → use `endConnection()`
  - `deepLinkToSubscriptionsAndroid()` → use platform UI links as documented
  - `getPurchaseHistories()` → use `getAvailablePurchases(PurchaseOptions(onlyIncludeActiveItemsIOS: false))`

## Upgrade Notes

- If you rely on `productId`, switch to `id` to future-proof your code.
- Replace deprecated methods with their modern counterparts listed above. All deprecated symbols will be removed in 6.6.0.
